{"version":3,"sources":["webpack:///src/views/ConfirmDialog.vue","webpack:///./src/views/ConfirmDialog.vue?1a23","webpack:///./src/views/ConfirmDialog.vue","webpack:///src/views/FormSubmit.vue","webpack:///./src/views/FormSubmit.vue?ee6d","webpack:///./src/views/FormSubmit.vue"],"names":["ConfirmDialog","name","props","confirmedDialog","type","String","Boolean","default","idResult","Number","groupResult","yodResult","result","Object","data","id","dialog","watch","val","_this","this","setTimeout","methods","closeDialog","$emit","confirmedSubmit","_this2","groupId","groupName","yodSamma","dateTransaction","firebaseInit","collection","add","then","docRef","$router","push","catch","error","console","log","err","knowIdUser","_this3","asyncToGenerator_default","regenerator_default","a","mark","_callee","wrap","_context","prev","next","where","get","querySnapshot","forEach","doc","stop","saveUserTransac","_this4","date","merge","savetwofunction","_this5","_callee2","_context2","savetwocollection","_this6","_callee3","_context3","views_ConfirmDialog","render","_vm","_h","$createElement","_c","_self","attrs","persistent","max-width","model","value","callback","$$v","expression","column","justify-center","align-center","staticClass","xs12","_v","_s","_e","flat","color","on","click","$event","disabled","loading","round","~click","staticRenderFns","src_views_ConfirmDialog","__webpack_require__","normalizeComponent","FormSubmit","components","valid","Date","toISOString","substr","menu","modal","menu2","lastUpdated","bundleForm","clear","$refs","uForm","reset","confirmed","validate","saveTransac","index_cjs","FieldValue","serverTimestamp","_callee4","_context4","views_FormSubmit","sm8","md4","dark","ref","lazy-validation","prepend-icon","rules","v","label","_n","row","sm6","return-value","lazy","full-width","width","update:returnValue","update:return-value","slot","readonly","locale","prev-icon","next-icon","scrollable","save","to","params","large","md6","confirmed-dialog","group-result","yod-result","emitCloseDialog","arguments","FormSubmit_Component","FormSubmit_normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/1.76fde3d553d70cabc96d.js","sourcesContent":["<template>\n  <div>\n    <v-dialog v-model=\"confirmedDialog\" persistent max-width=\"400\">\n      <v-card>\n        <v-card-text>\n          <v-layout column justify-center align-center>\n            <v-flex v-if=\"groupResult > 0\" xs12 class=\"grey--text\">\n              <p class=\"title font-weight-bold\">G - </p>\n              <p class=\"display-4 font-weight-bold\">{{ groupResult }}</p>\n            </v-flex>\n            <v-flex xs12><p>&nbsp;</p></v-flex>\n            <v-flex v-if=\"yodResult > 0\" xs12 class=\"blue--text\">\n              <p class=\"title font-weight-bold\">ยอดคำภาวนา</p>\n              <p class=\"display-4 font-weight-bold light-blue--text\">\n                {{ yodResult }}\n              </p>\n            </v-flex>\n          </v-layout>\n        </v-card-text>\n        <v-card-actions class=\"grey lighten-5 \">\n          <v-spacer></v-spacer>\n          <v-btn flat color=\"indigo\" @click=\"closeDialog()\">กลับไปแก้ไข</v-btn>\n          <v-btn\n            :disabled=\"dialog\"\n            :loading=\"dialog\"\n            round\n            color=\"green darken-2 white--text\"\n            @click.once=\"savetwocollection()\"\n            >ยืนยัน</v-btn\n          >\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n  </div>\n</template>\n\n<script>\n  import { mapGetters } from \"vuex\";\n  import firebaseApp from \"@/components/firebaseInit\";\n\nexport default {\n    name: \"ConfirmDialog\",\n    props: {\n      confirmedDialog: {\n        type: [String, Boolean],\n        default: \"\"\n      },\n      idResult: {\n        type: [String, Number],\n        default: 0\n      },\n      groupResult: {\n        type: [String, Number],\n        default: 0\n      },\n      yodResult: {\n        type: [String, Number],\n        default: 0\n      },\n      result: {\n        type: [Object],\n        default: () => {}\n      }\n    },\n    data() {\n      return {\n        id: '',\n        dialog: false,\n      };\n    },\n    watch: {\n      dialog(val) {\n        if (!val) return;\n\n        setTimeout(() => (this.dialog = false), 3000);\n      }\n    },\n    methods: {\n      closeDialog() {\n        this.$emit(\"emitCloseDialog\", false);\n      },\n      confirmedSubmit() {\n        this.dialog = true;\n\n        // console.log(this.result.groupId,\n        //             this.result.groupName,\n        //             this.result.yodSamma,\n        //             this.result.dateTransaction,\n        //             this.result);\n\n        //inputData[\"lastUpdated\"] = getserverTimestamp();\n\n        const result = {\n          //id: this.result.id,\n          groupId: this.result.groupId,\n          groupName: this.result.groupName,\n          yodSamma: this.result.yodSamma,\n          dateTransaction: this.result.dateTransaction\n        };\n\n        //อยากให้ไปหน้า view ตัวเอง แต่ยังทำไม่ได้\n        //console.log('/view/:'+this.result.groupId);\n\n        firebaseApp.collection('yodTransactions').add(result)\n        .then(docRef => this.$router.push('/form'))\n        .catch(error => console.log(err))\n\n        // if (this.result.userTransaction)\n        //   this.$store\n        //     .dispatch(\"insertYodToDb\", this.result)\n        //     .then(() => this.$router.push(\"/group\"))\n        //     .catch(err => console.log(err));\n\n\n      },\n      async knowIdUser () {\n        await firebaseApp.collection(\"yodByUser\")\n          .where(\"groupId\", \"==\", this.groupResult)\n          .get()\n          .then(querySnapshot => {\n            querySnapshot.forEach(doc => {\n              this.id = doc.id;\n              this.groupId = doc.data().groupId;\n            });\n          });\n        console.log(this.id);\n      },\n\n\n      //ยัง save เข้า UserTransac ไม่ได้\n      saveUserTransac () {\n        firebaseApp.collection('yodByUser')\n        .doc(this.id).collection('transactions')\n        .add({\n          groupId: this.groupId,\n          groupName: this.groupName,\n          yodSamma: this.yodSamma,\n          date: this.date,\n          merge: true \n        })\n        .then(docRef => this.$router.push('/group'))\n        .catch(error => console.log(err))\n      },\n      async savetwofunction () {\n        this.knowIdUser()\n        await this.confirmedSubmit()\n      },\n      async savetwocollection () {\n        this.savetwofunction()\n        await this.saveUserTransac()\n      }\n\n\n    }\n  };\n\n</script>\n\n\n\n\n// WEBPACK FOOTER //\n// src/views/ConfirmDialog.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-dialog',{attrs:{\"persistent\":\"\",\"max-width\":\"400\"},model:{value:(_vm.confirmedDialog),callback:function ($$v) {_vm.confirmedDialog=$$v},expression:\"confirmedDialog\"}},[_c('v-card',[_c('v-card-text',[_c('v-layout',{attrs:{\"column\":\"\",\"justify-center\":\"\",\"align-center\":\"\"}},[(_vm.groupResult > 0)?_c('v-flex',{staticClass:\"grey--text\",attrs:{\"xs12\":\"\"}},[_c('p',{staticClass:\"title font-weight-bold\"},[_vm._v(\"G - \")]),_vm._v(\" \"),_c('p',{staticClass:\"display-4 font-weight-bold\"},[_vm._v(_vm._s(_vm.groupResult))])]):_vm._e(),_vm._v(\" \"),_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('p',[_vm._v(\" \")])]),_vm._v(\" \"),(_vm.yodResult > 0)?_c('v-flex',{staticClass:\"blue--text\",attrs:{\"xs12\":\"\"}},[_c('p',{staticClass:\"title font-weight-bold\"},[_vm._v(\"ยอดคำภาวนา\")]),_vm._v(\" \"),_c('p',{staticClass:\"display-4 font-weight-bold light-blue--text\"},[_vm._v(\"\\n              \"+_vm._s(_vm.yodResult)+\"\\n            \")])]):_vm._e()],1)],1),_vm._v(\" \"),_c('v-card-actions',{staticClass:\"grey lighten-5 \"},[_c('v-spacer'),_vm._v(\" \"),_c('v-btn',{attrs:{\"flat\":\"\",\"color\":\"indigo\"},on:{\"click\":function($event){return _vm.closeDialog()}}},[_vm._v(\"กลับไปแก้ไข\")]),_vm._v(\" \"),_c('v-btn',{attrs:{\"disabled\":_vm.dialog,\"loading\":_vm.dialog,\"round\":\"\",\"color\":\"green darken-2 white--text\"},on:{\"~click\":function($event){return _vm.savetwocollection()}}},[_vm._v(\"ยืนยัน\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-fb844b20\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/ConfirmDialog.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ConfirmDialog.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ConfirmDialog.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-fb844b20\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./ConfirmDialog.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/ConfirmDialog.vue\n// module id = null\n// module chunks = ","<template>\n  <v-container>\n    <v-layout column wrap align-center justify-center >\n      <v-flex>\n      </v-flex>\n      <v-flex xs12 sm8 md4>\n        <v-card class=\"elevation-12\">\n          <v-toolbar dark color=\"teal darken-2\">\n            <v-toolbar-title>ส่งยอดคำภาวนา</v-toolbar-title>\n          </v-toolbar>\n          <v-card-text>\n            <v-form ref=\"uForm\" v-model=\"valid\" lazy-validation>\n              <v-text-field \n                prepend-icon=\"G\"\n                :rules=\"[v => !!v || 'กรุณากรอกรหัสทีมของท่าน']\"\n                v-model=\"groupId\"\n              ></v-text-field>\n              <v-text-field\n                v-model.number=\"yodSamma\"\n                prepend-icon=\"thumb_up_alt\"\n                label=\"ยอดคำภาวนา\"\n                type=\"number\"\n              ></v-text-field>\n              <v-layout row wrap>\n                <v-flex xs12 sm6 md4>\n                  <v-dialog\n                    ref=\"dialog\"\n                    v-model=\"modal\"\n                    :return-value.sync=\"date\"\n                    persistent\n                    lazy\n                    full-width\n                    width=\"290px\"\n                  >\n                    <v-text-field\n                      slot=\"activator\"\n                      v-model=\"date\"\n                      label=\"ยอดของวันที่\"\n                      prepend-icon=\"event\"\n                      readonly\n                    ></v-text-field>\n                    <v-date-picker\n                      v-model=\"date\"\n                      locale=\"th\"\n                      prev-icon=\"keyboard_arrow_left\"\n                      next-icon=\"keyboard_arrow_right\"\n                      next\n                      scrollable\n                      color=\"teal darken-2\"\n                    >\n                      <v-spacer></v-spacer>\n                      <v-btn flat color=\"teal darken-2\" @click=\"modal = false\"\n                        >Cancel</v-btn\n                      >\n                      <v-btn\n                        flat\n                        color=\"teal darken-2\"\n                        @click=\"$refs.dialog.save(date)\"\n                        >OK</v-btn\n                      >\n                    </v-date-picker>\n                  </v-dialog>\n                </v-flex>\n              </v-layout>\n            </v-form>\n          </v-card-text>\n          <v-card-actions>\n            <v-btn flat color=\"red lighten-1\" @click=\"clear()\">ล้างฟอร์ม</v-btn>\n            <v-spacer />\n            \n            <router-link :to=\"{name: 'view-yod-group', params: {groupId: `G${this.groupId}`}}\">\n              <v-btn :disabled=\"!valid\" color=\"green darken-4\" round dark large\n                @click.once=\"savetwocollection()\"\n                >ส่งยอด\n              </v-btn>\n            </router-link>\n\n          </v-card-actions>\n        </v-card>\n      </v-flex>\n      \n      <v-flex xs12 sm8 md6>\n        <ConfirmDialog\n          :confirmed-dialog=\"confirmedDialog\"\n          :result=\"bundleForm\"\n          :group-result=\"groupId\"\n          :yod-result=\"yodSamma\"\n          @emitCloseDialog=\"confirmedDialog = arguments[0]\"\n        />\n      </v-flex>\n      \n    </v-layout>\n  </v-container>    \n</template>\n\n<script>\n  import firebaseApp from \"@/components/firebaseInit\";\n  import ConfirmDialog from \"@/views/ConfirmDialog\";\n  import * as firebase from 'firebase';\n\n  export default {\n    name: \"register-group\",\n    components: {\n      ConfirmDialog\n    },\n    data: () => ({\n      confirmedDialog: \"\",\n      valid: false,\n      id: '',\n      groupId: '',\n      groupName: '',\n      yodSamma: '',\n      date: new Date().toISOString().substr(0, 10),\n      menu: false,\n      modal: false,\n      menu2: false,\n      lastUpdated: '',\n      bundleForm: {}\n    }),\n    methods: {\n      clear() {\n        this.$refs.uForm.reset();\n        this.bundleForm = {};\n      },\n      confirmed() {\n        this.$refs.uForm.validate();\n\n        // if (this.checkUserProfile) {\n        //   let MyDiv1 = document.getElementById(\"groupidfield\");\n        //   this.groupId = MyDiv1.innerHTML;\n        //   this.userId = this.getUser.userId;\n        // }\n\n        this.bundleForm = {\n          //id: this.id,\n          groupId: this.groupId,\n          groupName: this.groupName,\n          yodSamma: this.yodSamma,\n          dateTransaction: this.date\n        };\n        if (this.date) {\n          this.confirmedDialog = !this.confirmedDialog;\n        }\n      },\n      async saveTransac () {\n        this.$refs.uForm.validate();\n        await firebaseApp.collection('yodTransactions')\n        .add({\n          groupId: `G${this.groupId}`,\n          groupName: this.groupName,\n          yodSamma: this.yodSamma,\n          lastUpdated: firebase.firestore.FieldValue.serverTimestamp(),\n          date: this.date\n        })\n        //.then(docRef => this.$router.push('/viewyodgroup'))\n        .catch(error => console.log(err))\n      },\n      async knowIdUser () {\n        await firebaseApp.collection(\"yodByUser\")\n          .where(\"groupId\", \"==\", this.groupId)\n          .get()\n          .then(querySnapshot => {\n            querySnapshot.forEach(doc => {\n              this.id = doc.id;\n              this.groupId = doc.data().groupId;\n            });\n          });\n        console.log(this.id);\n      },\n      async saveUserTransac () {\n        await firebaseApp.collection('yodByUser')\n        .doc(`G${this.groupId}`).collection('transactions')\n        .add({\n          groupId: `G${this.groupId}`,\n          groupName: this.groupName,\n          yodSamma: this.yodSamma,\n          date: this.date,\n          lastUpdated: firebase.firestore.FieldValue.serverTimestamp(),\n          merge: true \n        })\n        //.then(docRef => this.$router.push('/group'))\n        .catch(error => console.log(err))\n      },\n      //การใช้ async await เพื่อเรียกใช้ 2 function ขึ้นไปพร้อมกัน\n      async savetwocollection () {\n        this.saveTransac()\n        //await this.knowIdUser()\n        await this.saveUserTransac()\n      }\n\n    }\n  }\n</script>\n\n<style>\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/FormSubmit.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('v-layout',{attrs:{\"column\":\"\",\"wrap\":\"\",\"align-center\":\"\",\"justify-center\":\"\"}},[_c('v-flex'),_vm._v(\" \"),_c('v-flex',{attrs:{\"xs12\":\"\",\"sm8\":\"\",\"md4\":\"\"}},[_c('v-card',{staticClass:\"elevation-12\"},[_c('v-toolbar',{attrs:{\"dark\":\"\",\"color\":\"teal darken-2\"}},[_c('v-toolbar-title',[_vm._v(\"ส่งยอดคำภาวนา\")])],1),_vm._v(\" \"),_c('v-card-text',[_c('v-form',{ref:\"uForm\",attrs:{\"lazy-validation\":\"\"},model:{value:(_vm.valid),callback:function ($$v) {_vm.valid=$$v},expression:\"valid\"}},[_c('v-text-field',{attrs:{\"prepend-icon\":\"G\",\"rules\":[function (v) { return !!v || 'กรุณากรอกรหัสทีมของท่าน'; }]},model:{value:(_vm.groupId),callback:function ($$v) {_vm.groupId=$$v},expression:\"groupId\"}}),_vm._v(\" \"),_c('v-text-field',{attrs:{\"prepend-icon\":\"thumb_up_alt\",\"label\":\"ยอดคำภาวนา\",\"type\":\"number\"},model:{value:(_vm.yodSamma),callback:function ($$v) {_vm.yodSamma=_vm._n($$v)},expression:\"yodSamma\"}}),_vm._v(\" \"),_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\",\"sm6\":\"\",\"md4\":\"\"}},[_c('v-dialog',{ref:\"dialog\",attrs:{\"return-value\":_vm.date,\"persistent\":\"\",\"lazy\":\"\",\"full-width\":\"\",\"width\":\"290px\"},on:{\"update:returnValue\":function($event){_vm.date=$event},\"update:return-value\":function($event){_vm.date=$event}},model:{value:(_vm.modal),callback:function ($$v) {_vm.modal=$$v},expression:\"modal\"}},[_c('v-text-field',{attrs:{\"slot\":\"activator\",\"label\":\"ยอดของวันที่\",\"prepend-icon\":\"event\",\"readonly\":\"\"},slot:\"activator\",model:{value:(_vm.date),callback:function ($$v) {_vm.date=$$v},expression:\"date\"}}),_vm._v(\" \"),_c('v-date-picker',{attrs:{\"locale\":\"th\",\"prev-icon\":\"keyboard_arrow_left\",\"next-icon\":\"keyboard_arrow_right\",\"next\":\"\",\"scrollable\":\"\",\"color\":\"teal darken-2\"},model:{value:(_vm.date),callback:function ($$v) {_vm.date=$$v},expression:\"date\"}},[_c('v-spacer'),_vm._v(\" \"),_c('v-btn',{attrs:{\"flat\":\"\",\"color\":\"teal darken-2\"},on:{\"click\":function($event){_vm.modal = false}}},[_vm._v(\"Cancel\")]),_vm._v(\" \"),_c('v-btn',{attrs:{\"flat\":\"\",\"color\":\"teal darken-2\"},on:{\"click\":function($event){return _vm.$refs.dialog.save(_vm.date)}}},[_vm._v(\"OK\")])],1)],1)],1)],1)],1)],1),_vm._v(\" \"),_c('v-card-actions',[_c('v-btn',{attrs:{\"flat\":\"\",\"color\":\"red lighten-1\"},on:{\"click\":function($event){return _vm.clear()}}},[_vm._v(\"ล้างฟอร์ม\")]),_vm._v(\" \"),_c('v-spacer'),_vm._v(\" \"),_c('router-link',{attrs:{\"to\":{name: 'view-yod-group', params: {groupId: (\"G\" + (this.groupId))}}}},[_c('v-btn',{attrs:{\"disabled\":!_vm.valid,\"color\":\"green darken-4\",\"round\":\"\",\"dark\":\"\",\"large\":\"\"},on:{\"~click\":function($event){return _vm.savetwocollection()}}},[_vm._v(\"ส่งยอด\\n            \")])],1)],1)],1)],1),_vm._v(\" \"),_c('v-flex',{attrs:{\"xs12\":\"\",\"sm8\":\"\",\"md6\":\"\"}},[_c('ConfirmDialog',{attrs:{\"confirmed-dialog\":_vm.confirmedDialog,\"result\":_vm.bundleForm,\"group-result\":_vm.groupId,\"yod-result\":_vm.yodSamma},on:{\"emitCloseDialog\":function($event){_vm.confirmedDialog = arguments[0]}}})],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-27118d43\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/FormSubmit.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-27118d43\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./FormSubmit.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./FormSubmit.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./FormSubmit.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-27118d43\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./FormSubmit.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/FormSubmit.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}