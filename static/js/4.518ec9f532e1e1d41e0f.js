webpackJsonp([4],{ITGu:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=o("Xxa5"),n=o.n(a),r=o("exGp"),i=o.n(r),c=o("qVsQ"),s={name:"view-group",data:function(){return{valid:!1,id:"",groupId:"",groupName:"",groupMember:"",coordinator:"",coordinatorTel:"",yodSamma:"",headers:[{text:"วันที่ส่งยอดคำภาวนา",align:"left",value:"date"},{text:"ยอดภาวนา",value:"yodSamma"}],yod:[],groups:[]}},beforeRouteEnter:function(t,e,o){c.a.collection("yodByUser").where("groupId","==",t.params.groupId).get().then(function(t){t.forEach(function(t){o(function(e){e.id=t.id,e.groupId=t.data().groupId,e.groupName=t.data().groupName,e.groupMember=t.data().groupMember,e.coordinator=t.data().coordinator,e.coordinatorTel=t.data().coordinatorTel,e.yodSamma=t.data().yodSamma})})})},watch:{$route:"fetchData"},methods:{fetchData:function(){var t=this;c.a.collection("yodByUser").where("groupId","==",this.$route.params.groupId).get().then(function(e){e.forEach(function(e){t.id=e.id,t.groupId=e.data().groupId,t.groupName=e.data().groupName,t.groupMember=e.data().groupMember,t.coordinator=e.data().coordinator,t.coordinatorTel=e.data().coordinatorTel,t.yodSamma=e.data().yodSamma})})},knowIdUser:function(){var t=this;return i()(n.a.mark(function e(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.a.collection("yodByUser").where("groupId","==",t.groupId).get().then(function(e){e.forEach(function(e){t.id=e.id,t.groupId=e.data().groupId})});case 2:console.log(t.id);case 3:case"end":return e.stop()}},e,t)}))()},createdTable:function(){var t=this;c.a.collection("yodByUser").doc(this.id).collection("transactions").get().then(function(e){e.forEach(function(e){var o={date:e.data().date,yodSamma:e.data().yodSamma};t.yod.push(o)})})},showTable:function(){var t=this;return i()(n.a.mark(function e(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.knowIdUser();case 2:return e.next=4,t.createdTable();case 4:case"end":return e.stop()}},e,t)}))()},deleteGroup:function(){var t=this;confirm("Are you sure?")&&c.a.collection("yodByUser").where("groupId","==",this.$route.params.groupId).get().then(function(e){e.forEach(function(e){e.ref.delete(),t.$router.push("/group")})})}},computed:{total:function(){return this.yod.reduce(function(t,e){return t+e.yodSamma},0)}}},l={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-container",{attrs:{fluid:"","grid-list-md":""}},[o("v-layout",{attrs:{row:""}},[o("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[o("v-card",[o("v-toolbar",{attrs:{color:"teal darken-4",dark:""}},[o("v-toolbar-title",[t._v("กลุ่ม "+t._s(t.groupName))])],1),t._v(" "),o("v-expansion-panel",[o("v-expansion-panel-content",{scopedSlots:t._u([{key:"header",fn:function(){return[o("div",{staticClass:"teal--text"},[o("h3",[t._v("ข้อมูลกลุ่ม")])])]},proxy:!0}])},[t._v(" "),o("v-card",[o("v-list",[o("v-list-tile",{on:{click:function(t){}}},[o("v-list-tile-action",[o("v-icon",[t._v("G")])],1),t._v(" "),o("v-list-tile-content",[o("v-list-tile-title",[t._v(t._s(t.groupId))])],1)],1),t._v(" "),o("v-divider",{attrs:{inset:""}}),t._v(" "),o("v-list-tile",{on:{click:function(t){}}},[o("v-list-tile-action",[o("v-icon",[t._v("group")])],1),t._v(" "),o("v-list-tile-content",[o("v-list-tile-title",[t._v("จำนวนสมาชิก "+t._s(t.groupMember)+" คน")])],1)],1),t._v(" "),o("v-divider",{attrs:{inset:""}}),t._v(" "),o("v-list-tile",{on:{click:function(t){}}},[o("v-list-tile-action",[o("v-icon",[t._v("face")])],1),t._v(" "),o("v-list-tile-content",[o("v-list-tile-title",[t._v("ผู้ประสานงาน : "+t._s(t.coordinator))])],1)],1),t._v(" "),o("v-divider",{attrs:{inset:""}}),t._v(" "),o("v-list-tile",{on:{click:function(t){}}},[o("v-list-tile-action",[o("v-icon",[t._v("call")])],1),t._v(" "),o("v-list-tile-content",[o("v-list-tile-title",[t._v(t._s(t.coordinatorTel))])],1)],1)],1)],1)],1),t._v(" "),o("v-expansion-panel-content",{scopedSlots:t._u([{key:"header",fn:function(){return[o("div",{staticClass:"teal--text",on:{"~click":function(e){return t.showTable(e)}}},[o("h3",[t._v("ประวัติการส่งยอดคำภาวนา")])])]},proxy:!0}])},[t._v(" "),o("v-card",[o("v-list-tile",{on:{click:function(t){}}},[o("v-list-tile-action",[o("v-btn",{attrs:{flat:"",icon:"",color:"pink"}},[o("v-icon",[t._v("grade")])],1)],1),t._v(" "),o("v-list-tile-content",[o("v-list-tile-title",{staticClass:"pink--text"},[t._v("ยอดรวมทั้งหมด: "+t._s(t.total))])],1)],1),t._v(" "),o("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.yod},scopedSlots:t._u([{key:"items",fn:function(e){return[o("td",[t._v(t._s(e.item.date))]),t._v(" "),o("td",{staticClass:"text-xs-right"},[t._v(t._s(e.item.yodSamma))])]}}])})],1)],1)],1)],1)],1)],1)],1)},staticRenderFns:[]},d=o("VU/8")(s,l,!1,null,null,null);e.default=d.exports}});
//# sourceMappingURL=4.518ec9f532e1e1d41e0f.js.map